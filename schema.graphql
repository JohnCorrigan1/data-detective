type NftToken @entity(immutable: false) {
    id: ID!
    tokenID: BigInt 
    blocknumber: BigInt
    timestamp: BigInt
    collection: NftDeployment
}

type NftDeployment @entity(immutable: false) {
    id: ID!
    address: String
    code: Bytes
    storage_changes: [StorageChange!] @derivedFrom(field: "deployment")
    blocknumber: BigInt
    timestamp: BigInt
    Tokens: [NftToken!] @derivedFrom(field: "collection")
} 

type StorageChange @entity(immutable: false) {
    id: ID!
    address: String
    key: Bytes 
    new_value: Bytes
    deployment: NftDeployment
}
